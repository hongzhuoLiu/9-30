# ğŸ“‹ Students Choice é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ - é…ç½®æ¸…å•

## âœ… å·²å®Œæˆ

- [x] é‚®ä»¶ç³»ç»Ÿä»£ç ç¼–å†™å®Œæˆ
- [x] å‰ç«¯ç»„ä»¶é›†æˆå®Œæˆ
- [x] æ–‡æ¡£ç¼–å†™å®Œæˆ

## ğŸ”§ ä½ éœ€è¦åšçš„äº‹æƒ…

### ç¬¬ä¸€éƒ¨åˆ†ï¼šè·å– SendGrid è´¦å·ï¼ˆ15 åˆ†é’Ÿï¼‰

#### 1. æ³¨å†Œ SendGrid è´¦å·

- [ ] è®¿é—® https://sendgrid.com
- [ ] ç‚¹å‡» "Start for Free" æ³¨å†Œå…è´¹è´¦å·
- [ ] éªŒè¯é‚®ç®±åœ°å€

#### 2. åˆ›å»º API å¯†é’¥

- [ ] ç™»å½• SendGrid æ§åˆ¶å°
- [ ] å¯¼èˆªåˆ° Settings â†’ API Keys
- [ ] ç‚¹å‡» "Create API Key"
- [ ] é€‰æ‹© "Full Access"
- [ ] å¤åˆ¶ç”Ÿæˆçš„ API å¯†é’¥ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰

#### 3. éªŒè¯å‘ä»¶äººé‚®ç®±

- [ ] åœ¨ SendGrid æ§åˆ¶å°ï¼Œå» Settings â†’ Sender Authentication
- [ ] æ·»åŠ å¹¶éªŒè¯ä½ çš„å‘ä»¶äººé‚®ç®±ï¼ˆæ¯”å¦‚ noreply@studentschoice.blogï¼‰

### ç¬¬äºŒéƒ¨åˆ†ï¼šé…ç½® Strapi åç«¯ï¼ˆ20 åˆ†é’Ÿï¼‰

#### 1. å®‰è£…é‚®ä»¶æ’ä»¶

```bash
# åœ¨ä½ çš„ Strapi åç«¯é¡¹ç›®ç›®å½•è¿è¡Œï¼š
cd /path/to/your/strapi/project
npm install @strapi/provider-email-sendgrid --save
```

- [ ] è¿è¡Œä¸Šé¢çš„å®‰è£…å‘½ä»¤

#### 2. å¤åˆ¶é…ç½®æ–‡ä»¶

éœ€è¦æŠŠæˆ‘å†™çš„æ–‡ä»¶å¤åˆ¶åˆ°ä½ çš„ Strapi é¡¹ç›®é‡Œï¼š

**å¤åˆ¶è¿™ä¸ªæ–‡ä»¶ï¼š** `strapi-backend-configs/config-plugins.js`
**åˆ°è¿™ä¸ªä½ç½®ï¼š** `ä½ çš„Strapié¡¹ç›®/config/plugins.js`

- [ ] å¤åˆ¶ plugins.js é…ç½®æ–‡ä»¶

**åˆ›å»ºé‚®ä»¶ API ç›®å½•å’Œæ–‡ä»¶ï¼š**

```bash
# åœ¨ä½ çš„ Strapi é¡¹ç›®é‡Œåˆ›å»ºè¿™äº›ç›®å½•ï¼š
mkdir -p src/api/email/controllers
mkdir -p src/api/email/routes
```

- [ ] åˆ›å»ºç›®å½•ç»“æ„

**å¤åˆ¶è¿™ä¸ªæ–‡ä»¶ï¼š** `strapi-backend-configs/email-controller.js`
**åˆ°è¿™ä¸ªä½ç½®ï¼š** `ä½ çš„Strapié¡¹ç›®/src/api/email/controllers/email.js`

- [ ] å¤åˆ¶é‚®ä»¶æ§åˆ¶å™¨

**å¤åˆ¶è¿™ä¸ªæ–‡ä»¶ï¼š** `strapi-backend-configs/email-routes.js`
**åˆ°è¿™ä¸ªä½ç½®ï¼š** `ä½ çš„Strapié¡¹ç›®/src/api/email/routes/email.js`

- [ ] å¤åˆ¶é‚®ä»¶è·¯ç”±

#### 3. æ·»åŠ ç”Ÿå‘½å‘¨æœŸé’©å­

**å¤åˆ¶è¿™ä¸ªæ–‡ä»¶ï¼š** `strapi-backend-configs/review-lifecycles.js`
**åˆ°è¿™ä¸ªä½ç½®ï¼š** `ä½ çš„Strapié¡¹ç›®/src/api/review/content-types/review/lifecycles.js`

- [ ] å¤åˆ¶ review ç”Ÿå‘½å‘¨æœŸé’©å­

**å¤åˆ¶è¿™ä¸ªæ–‡ä»¶ï¼š** `strapi-backend-configs/blog-lifecycles.js`
**åˆ°è¿™ä¸ªä½ç½®ï¼š** `ä½ çš„Strapié¡¹ç›®/src/api/blog/content-types/blog/lifecycles.js`

- [ ] å¤åˆ¶ blog ç”Ÿå‘½å‘¨æœŸé’©å­

**å¤åˆ¶è¿™ä¸ªæ–‡ä»¶ï¼š** `strapi-backend-configs/qna-lifecycles.js`
**åˆ°è¿™ä¸ªä½ç½®ï¼š** `ä½ çš„Strapié¡¹ç›®/src/api/qna/content-types/qna/lifecycles.js`

- [ ] å¤åˆ¶ qna ç”Ÿå‘½å‘¨æœŸé’©å­

#### 4. è®¾ç½®ç¯å¢ƒå˜é‡

åœ¨ä½ çš„ Strapi é¡¹ç›®çš„ `.env` æ–‡ä»¶é‡Œæ·»åŠ è¿™å‡ è¡Œï¼š

```env
SENDGRID_API_KEY=ä½ ä»SendGridå¤åˆ¶çš„APIå¯†é’¥
DEFAULT_FROM_EMAIL=noreply@studentschoice.blog
DEFAULT_REPLY_TO_EMAIL=support@studentschoice.blog
TEST_EMAIL_ADDRESS=ä½ çš„æµ‹è¯•é‚®ç®±@example.com
```

- [ ] æ·»åŠ ç¯å¢ƒå˜é‡åˆ° .env æ–‡ä»¶

#### 5. é‡å¯ Strapi

```bash
# åœ¨ä½ çš„ Strapi é¡¹ç›®ç›®å½•è¿è¡Œï¼š
npm run develop
# æˆ–è€…å¦‚æœä½ ç”¨ yarnï¼š
yarn develop
```

- [ ] é‡å¯ Strapi æœåŠ¡

### ç¬¬ä¸‰éƒ¨åˆ†ï¼šæµ‹è¯•åŠŸèƒ½ï¼ˆ10 åˆ†é’Ÿï¼‰

#### 1. æµ‹è¯•åŸºæœ¬é‚®ä»¶å‘é€

- [ ] ç”¨ Postman æˆ– curl æµ‹è¯•é‚®ä»¶ APIï¼š

```bash
curl -X POST http://localhost:1337/api/email/test \
  -H "Content-Type: application/json" \
  -d '{"testEmail": "ä½ çš„é‚®ç®±@example.com"}'
```

#### 2. æµ‹è¯•å‰ç«¯é‚®ä»¶è®¾ç½®

- [ ] æ‰“å¼€ä½ çš„ç½‘ç«™
- [ ] ç™»å½•ç”¨æˆ·è´¦å·
- [ ] è¿›å…¥ä¸ªäººèµ„æ–™é¡µé¢
- [ ] ç‚¹å‡»"é‚®ä»¶è®¾ç½®"æŒ‰é’®
- [ ] å‘é€æµ‹è¯•é‚®ä»¶
- [ ] æ£€æŸ¥é‚®ç®±æ˜¯å¦æ”¶åˆ°é‚®ä»¶

#### 3. æµ‹è¯•ç‚¹èµé‚®ä»¶é€šçŸ¥

- [ ] ç”¨ä¸¤ä¸ªä¸åŒçš„ç”¨æˆ·è´¦å·
- [ ] ä¸€ä¸ªç”¨æˆ·å‘å¸ƒè¯„ä»·/åšå®¢/é—®ç­”
- [ ] å¦ä¸€ä¸ªç”¨æˆ·ç‚¹èµè¿™ä¸ªå†…å®¹
- [ ] æ£€æŸ¥å‘å¸ƒè€…æ˜¯å¦æ”¶åˆ°é‚®ä»¶é€šçŸ¥

### ç¬¬å››éƒ¨åˆ†ï¼šç”¨æˆ·æ¨¡å‹æ›´æ–°ï¼ˆå¯é€‰ï¼Œ10 åˆ†é’Ÿï¼‰

å¦‚æœä½ æƒ³è®©ç”¨æˆ·èƒ½å®Œå…¨æ§åˆ¶é‚®ä»¶è®¾ç½®ï¼Œéœ€è¦åœ¨ Strapi çš„ç”¨æˆ·æ¨¡å‹é‡Œæ·»åŠ å­—æ®µï¼š

- [ ] åœ¨ Strapi ç®¡ç†åå°ï¼Œè¿›å…¥ Content-Type Builder
- [ ] é€‰æ‹© User (from users-permissions)
- [ ] æ·»åŠ å­—æ®µï¼š
  - `emailNotifications` (Boolean, é»˜è®¤å€¼: true)
  - `emailPreferences` (JSON, é»˜è®¤å€¼: {"likes":true,"comments":true,"newPosts":true,"weeklyDigest":false})

## ğŸš¨ æ³¨æ„äº‹é¡¹

### é‡è¦æé†’ï¼š

1. **API å¯†é’¥å®‰å…¨**ï¼šSendGrid API å¯†é’¥è¦ä¿å¯†ï¼Œä¸è¦æäº¤åˆ° Git
2. **é‚®ç®±éªŒè¯**ï¼šå¿…é¡»åœ¨ SendGrid é‡ŒéªŒè¯å‘ä»¶äººé‚®ç®±
3. **æµ‹è¯•ç¯å¢ƒ**ï¼šå…ˆåœ¨å¼€å‘ç¯å¢ƒæµ‹è¯•ï¼Œç¡®è®¤æ²¡é—®é¢˜å†éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

### å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **é‚®ä»¶å‘ä¸å‡ºå»**ï¼šæ£€æŸ¥ Strapi æ§åˆ¶å°æ—¥å¿—
2. **API å¯†é’¥é”™è¯¯**ï¼šé‡æ–°æ£€æŸ¥ .env æ–‡ä»¶
3. **è·¯ç”±ä¸å­˜åœ¨**ï¼šç¡®è®¤æ–‡ä»¶å¤åˆ¶åˆ°äº†æ­£ç¡®ä½ç½®
4. **æƒé™é—®é¢˜**ï¼šç¡®è®¤ Strapi æœ‰è¯»å†™æ–‡ä»¶æƒé™

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœä½ åœ¨é…ç½®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹é”™è¯¯æ—¥å¿—**ï¼šStrapi æ§åˆ¶å°ä¼šæ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
2. **æ£€æŸ¥æ–‡ä»¶ä½ç½®**ï¼šç¡®è®¤æ‰€æœ‰æ–‡ä»¶éƒ½å¤åˆ¶åˆ°äº†æ­£ç¡®çš„ä½ç½®
3. **éªŒè¯ SendGrid è®¾ç½®**ï¼šåœ¨ SendGrid æ§åˆ¶å°æŸ¥çœ‹æ´»åŠ¨æ—¥å¿—
4. **æµ‹è¯•ç½‘ç»œè¿æ¥**ï¼šç¡®è®¤æœåŠ¡å™¨èƒ½è¿æ¥åˆ° SendGrid

## â° é¢„ä¼°å®Œæˆæ—¶é—´

- **æœ‰ç»éªŒçš„å¼€å‘è€…**ï¼š30-45 åˆ†é’Ÿ
- **ç¬¬ä¸€æ¬¡é…ç½®**ï¼š1-2 å°æ—¶
- **åŒ…å«æµ‹è¯•**ï¼šé¢å¤– 15-30 åˆ†é’Ÿ

å®Œæˆè¿™ä¸ªæ¸…å•åï¼Œä½ çš„é‚®ä»¶é€šçŸ¥ç³»ç»Ÿå°±å®Œå…¨å¯ä»¥ä½¿ç”¨äº†ï¼ğŸ‰
